<!DOCTYPE html>
<html lang="ja">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="manifest" href="manifest.json">
  <title>SSD</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="container">
    <div id="fade-overlay"></div>
    <div class="top-screen">

      <div id="monster-container" class="hidden">
        <img id="monster-img" src="" alt="Monster">
      </div>

      <!-- HP表示用コンテナ -->
      <div id="monster-hp-container" class="hidden">
        <div id="monster-hp-bar">
          <div id="monster-hp"></div>
        </div>
        <div id="monster-hp-text"></div>
      </div>

      <!-- シーン表示エリア -->
      <div id="scene-container" class="hidden">
        <img id="scene-img" src="" alt="Scene Image">
      </div>

      <!-- イベント回数表示（オープニング以外で更新） -->
      <div class="info" id="info"></div>

      <!-- フラグ表示（円グラフ風） -->
      <div id="flag-container">
        <div id="flag-title">魔導書の<br>取得状況</div>
        <div id="flag-grid"></div>
      </div>

      <!-- ボタン群 -->
      <div class="button-group hidden" id="button-group"></div>

      <!-- テキストウィンドウ -->
      <div class="text-window hidden" id="text-window"></div>

    </div>



    <div class="bottom-screen" id="game-area">
      <div class="judgeline"></div>
      <!-- 設定ボタン -->
      <div id="settings-button">⚙️</div>
    </div>
  </div>

  <!-- 設定ウインドウ（ページ送り対応） -->
  <div id="settings-window">
    <div class="close-button" id="close-settings">×</div>
    <!-- ページ送りボタン -->
    <button id="settings-prev" class="settings-page-btn" style="display:none;">◀</button>
    <button id="settings-next" class="settings-page-btn">▶</button>
    <!-- ページ1: ヘルプ内容 -->
    <div class="settings-page" id="settings-page-help">
      <div class="help-title" id="help-title"></div>
      <div class="help-body" id="help-body"></div>
    </div>
    <!-- ページ2: 設定内容 -->
    <div class="settings-page" id="settings-page-main" style="display:none;">
      <div class="settings-row">
        <label>ノーツ音：</label>
        <button id="volume-decrease">−</button>
        <span id="volume-value">100%</span>
        <button id="volume-increase">+</button>
      </div>
      <div class="settings-row">
        <label for="other-sounds-toggle">効果音：</label>
        <input type="checkbox" id="other-sounds-toggle" checked>
      </div>
      <div class="settings-row">
        <label>落下速度：</label>
        <button id="fallduration-decrease">−</button>
        <span id="fallduration-value">3000</span>
        <button id="fallduration-increase">+</button>
      </div>
      <div class="settings-row">
        <label for="debug-toggle">デバッグモード：</label>
        <input type="checkbox" id="debug-toggle">
      </div>
      <div class="settings-row" style="text-align: center;">
        <button id="state-action-button">セーブ</button>
      </div>
    </div>
  </div>

  <audio id="hit" src="./sounds/hit.mp3" preload="auto"></audio>
  <audio id="foot" src="./sounds/foot.mp3" preload="auto"></audio>
  <audio id="kill" src="./sounds/kill.mp3" preload="auto"></audio>
  <audio id="block" src="./sounds/block.mp3" preload="auto"></audio>
  <audio id="heal" src="./sounds/heal.mp3" preload="auto"></audio>
  <audio id="bari" src="./sounds/bari.mp3" preload="auto"></audio>
  <audio id="lit" src="./sounds/lit.mp3" preload="auto"></audio>
  <audio id="roza" src="./sounds/roza.mp3" preload="auto"></audio>


  <!-- 初期 -->
  <script src="オープニング.js"></script>


  <script src="./easy/ヴォーパル.js"></script><!-- 加速 -->
  <script src="./easy/ゴーレム.js"></script><!-- なし -->
  <script src="./easy/ゴブリン.js"></script><!-- 確率 -->
  <script src="./easy/スライム.js"></script><!-- なし -->
  <script src="./easy/ゾンビ.js"></script><!-- ランダム -->
  <script src="./easy/ゾンビ犬.js"></script><!-- ランダム -->
  <script src="./easy/人魂.js"></script><!-- トリプル -->
  <script src="./easy/雪女.js"></script><!-- 加速 -->
  <script src="./easy/天使.js"></script><!-- なし特殊 -->
  <script src="./easy/魔導士.js"></script><!-- なし特殊 -->
  <script src="./easy/幽霊.js"></script><!-- 確率 -->
  <script src="./easy/ゴブリンE.js"></script><!-- 確率 -->

  <!-- ノーマル8F -->
  <script src="./normal/オーク.js"></script><!-- なし -->
  <script src="./normal/グリフォン.js"></script><!-- 加速 -->
  <script src="./normal/ケルベロス.js"></script><!-- トリプル -->
  <script src="./normal/シスター.js"></script><!-- なし特殊 -->
  <script src="./normal/スライムの群れ.js"></script><!-- なし特殊 -->
  <script src="./normal/ダークエルフ.js"></script><!-- なし -->
  <script src="./normal/デュラハン.js"></script><!-- 加速 -->
  <script src="./normal/ドラキュラ.js"></script><!-- 確率 -->
  <script src="./normal/ナイトメア.js"></script><!-- ランダム特殊 -->
  <script src="./normal/ネクロマンサー.js"></script><!-- トリプル -->
  <script src="./normal/ミノタウロス.js"></script><!-- ランダム -->
  <script src="./normal/メタルスライム.js"></script><!-- なし特殊 -->
  <script src="./normal/メデューサ.js"></script><!-- 確率 -->
  <script src="./normal/宝箱.js"></script><!-- なし特殊 -->

  <script src="./normal/青魔導書.js"></script>

  <script src="./normal/ゴーレムE.js"></script><!-- 確率 -->
  <script src="./normal/ゾンビE.js"></script><!-- 確率 -->
  <script src="./normal/ゾンビ犬E.js"></script><!-- 確率 -->

  <!-- ハード16F -->
  <script src="./hard/宝箱E.js"></script><!-- トリプル -->
  <script src="./hard/クトゥグア.js"></script><!-- 確率 -->
  <script src="./hard/スレイプニル.js"></script><!-- 加速 -->
  <script src="./hard/ハーピー.js"></script><!-- 加速 -->
  <script src="./hard/ハスター.js"></script><!-- ランダム -->
  <script src="./hard/ラミア.js"></script><!-- トリプル -->
  <script src="./hard/レヴィアタン.js"></script><!-- 加速 -->
  <script src="./hard/雪女E.js"></script><!-- 確率 -->
  <script src="./hard/ナイトメアE.js"></script><!-- 確率 -->
  <script src="./hard/ネクロマンサーE.js"></script><!-- 確率 -->
  <script src="./hard/ドラキュラE.js"></script><!-- 確率 -->
  <script src="./hard/オークE.js"></script><!-- 確率 -->
  <script src="./hard/デュラハンE.js"></script><!-- 確率 -->
  <script src="./hard/赤ドラゴン.js"></script><!-- なし特殊 -->
  <script src="./hard/緑ドラゴン.js"></script><!-- 確率 -->
  <script src="./hard/青ドラゴン.js"></script><!-- なし特殊 -->



  <!-- 魔王出現24F -->
  <script src="./extra/メデューサE.js"></script><!-- 確率 -->
  <script src="./extra/クトゥグアE.js"></script><!-- 確率 -->
  <script src="./extra/ハスターE.js"></script><!-- 確率 -->
  <script src="./extra/レヴィアタンE.js"></script><!-- 確率 -->
  <script src="./extra/魔王.js"></script><!-- 確率 -->

  <!-- イベント -->
  <script src="./event/黒ドラゴン.js"></script><!-- トリプル -->
  <script src="./event/堕天使.js"></script>
  <script src="./event/鬼ガール.js"></script>
  <script src="./event/サキュバス.js"></script>
  <script src="./event/ゾンビガール.js"></script>


  <script src="./normal/スフィンクス.js"></script>
  <script src="./normal/ヨグソトース.js"></script>
  <script src="./normal/イース.js"></script>
  <script src="./normal/ロボット.js"></script>
  <script src="./normal/バニーガール.js"></script>


  <script src="main.js"></script>
  <script src="setting.js"></script>
  <script src="gamesystem.js"></script>
  <script src="startGames.js"></script>


  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function () {
        navigator.serviceWorker.register('/SSD/sw.js').then(function (registration) {
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, function (err) {
          console.log('ServiceWorker registration failed: ', err);
        });
      });
    }
  </script>

</body>

</html>